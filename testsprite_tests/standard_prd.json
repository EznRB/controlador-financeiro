{
  "meta": {
    "project": "Controlador Financeiro PWA do Enzo",
    "date": "2025-11-12",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "O Controlador Financeiro PWA do Enzo é uma aplicação web progressiva focada no gerenciamento financeiro pessoal simples e eficiente, especialmente para trabalhadores autônomos da limpeza pós-obra. O produto facilita o registro rápido de ganhos e despesas, importação automatizada de dados financeiros e acompanhamento de metas via smartphone.",
  "core_goals": [
    "Proporcionar controle financeiro simples e rápido para Enzo e sua mãe, trabalhadores autônomos na área de limpeza pós-obra.",
    "Permitir registro fácil e eficiente de transações (ganhos e despesas) com poucos cliques.",
    "Oferecer funcionalidades automatizadas como importação de extratos bancários via CSV e OCR para notas fiscais.",
    "Disponibilizar um dashboard financeiro com visualização clara de saldo, gráficos e últimas transações.",
    "Garantir segurança nos dados com autenticação via magic link e políticas de acesso robustas.",
    "Suportar uso offline básico com sincronização posterior via PWA.",
    "Facilitar o acompanhamento de metas financeiras pessoais com interface intuitiva."
  ],
  "key_features": [
    "Autenticação via Magic Link enviada por email para acesso rápido e seguro.",
    "Dashboard financeiro com saldo atual, gráficos de tendência e resumo das últimas transações.",
    "Registro rápido de ganhos e despesas com formulário simplificado e confirmação.",
    "Gestão completa de transações: listagem, filtro, edição e exclusão.",
    "Importação de extratos bancários CSV com preview e mapeamento de campos para categorização automática.",
    "Digitalização de notas fiscais via OCR com captura por câmera ou upload e edição dos dados extraídos.",
    "Definição e acompanhamento visual de metas financeiras mensais.",
    "Configurações personalizadas de perfil, categorias com ícones e cores, e exportação de dados em formato CSV/Excel.",
    "PWA instalável com funcionamento offline, splash screen e ícones personalizados.",
    "Criptografia, backup automático e políticas de Row Level Security para proteção dos dados pessoais."
  ],
  "user_flow_summary": [
    "Usuário acessa o app via PWA instalado no smartphone e autentica por magic link via email.",
    "No dashboard, visualiza saldo atual, ganhos, despesas e acesso rápido para registrar novas transações.",
    "Usuário registra facilmente ganhos ou despesas usando formulário com teclado numérico e seleção rápida de categoria.",
    "Para transações recorrentes, o sistema processa automaticamente entradas definidas previamente.",
    "Usuário pode importar extratos bancários CSV, revisar dados importados e confirmar para inclusão.",
    "Possibilidade de digitalizar notas fiscais com OCR, revisar campos extraídos e salvar transação associada.",
    "Acompanhamento das metas financeiras com visualização de progresso e notificações.",
    "Configurações para editar perfil, gerenciar categorias personalizadas e exportar dados para uso externo."
  ],
  "validation_criteria": [
    "Enzo consegue registrar um ganho em menos de 10 segundos e 3 cliques com formulário simplificado.",
    "Mãe do Enzo consegue acessar e operar o app sem necessidade de suporte.",
    "Dashboard carrega e apresenta dados atualizados em até 2 segundos após acesso.",
    "Importação de arquivos CSV com até 1000 linhas processa em menos de 30 segundos com preview funcional.",
    "OCR extrai corretamente valor e data em pelo menos 80% dos testes com notas fiscais.",
    "Aplicação funciona offline permitindo registro e sincronizando os dados automaticamente ao reconectar.",
    "Interface é totalmente em português BR, com termos familiares e botões com no mínimo 48px de área de toque para usabilidade móvel.",
    "Feedback visual claro é exibido em todas as interações com animações suaves para confirmação das ações.",
    "Dados são armazenados com segurança, com backup automático, e sessão de autenticação dura até 30 dias.",
    "Validação de campos impede inserção de valores negativos indevidos e datas inválidas no formulário de transações.",
    "Exportação gera arquivos compatíveis com softwares como Excel sem perda de dados.",
    "Navegação é intuitiva para ambos os perfis de usuários sem necessidade de tutorial adicional.",
    "PWA é instalável, possui splash screen personalizado, e suporta uso básico offline com sincronização futura."
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "Next.js 16 (App Router)",
      "Supabase (Auth, PostgreSQL, Storage)",
      "Tailwind CSS 4",
      "PWA (next-pwa, Workbox)",
      "Recharts",
      "Lucide React"
    ],
    "features": [
      {
        "name": "Autenticação com Magic Link",
        "description": "Fluxo de login e callback usando Supabase Auth; redirecionamentos via middleware.",
        "files": [
          "src/app/auth/login/page.tsx",
          "src/app/auth/callback/page.tsx",
          "src/middleware.ts",
          "src/lib/supabase.ts"
        ]
      },
      {
        "name": "Dashboard Financeiro",
        "description": "Resumo de saldo, entradas/saídas recentes e gráficos (Recharts).",
        "files": [
          "src/app/dashboard/page.tsx",
          "src/components/Navigation.tsx"
        ]
      },
      {
        "name": "Transações",
        "description": "Listagem, criação e exclusão de transações financeiras.",
        "files": [
          "src/app/transactions/page.tsx",
          "src/app/transactions/new/page.tsx",
          "supabase/migrations/202411120001_initial_schema.sql"
        ]
      },
      {
        "name": "Despesas Recorrentes",
        "description": "Configuração, processamento automático e API de processamento programado.",
        "files": [
          "src/lib/recurring-expenses.ts",
          "src/app/recurring/page.tsx",
          "src/app/recurring/new/page.tsx",
          "src/app/api/recurring/process/route.ts",
          "supabase/migrations/202411120002_add_recurring_expenses.sql"
        ]
      },
      {
        "name": "Importação de CSV",
        "description": "Upload de extratos bancários CSV, prévia e importação em lote com categorização automática.",
        "files": [
          "src/lib/csv-import.ts",
          "src/app/import-csv/page.tsx",
          "src/app/api/csv/import/route.ts"
        ]
      },
      {
        "name": "OCR de Notas",
        "description": "Utilitário simulado para OCR de notas fiscais e extração de valor e data.",
        "files": [
          "src/app/scan-receipt/page.tsx",
          "src/lib/ocr.ts"
        ]
      },
      {
        "name": "Metas Financeiras (placeholder)",
        "description": "Páginas base para futuras metas financeiras.",
        "files": [
          "src/app/goals/page.tsx",
          "src/app/goals/new/page.tsx"
        ]
      },
      {
        "name": "PWA",
        "description": "Manifesto, ícones e configuração de PWA com Workbox.",
        "files": [
          "public/manifest.json",
          "public/icon-192x192.png",
          "public/icon-512x512.png",
          "next.config.js",
          "next.config.ts"
        ]
      },
      {
        "name": "Supabase Schema e Seed",
        "description": "DDL das tabelas principais, índices, RLS e dados de seed.",
        "files": [
          "supabase/migrations/202411120001_initial_schema.sql",
          "supabase/migrations/202411120002_add_recurring_expenses.sql",
          "supabase/seed.sql"
        ]
      }
    ]
  }
}
